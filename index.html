<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JPAMatch - ビリヤードチーム仲間探し</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" type="image/png" href="./logo.png">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-container">
                <img src="./logo.png" alt="JPAMatch Logo" class="logo-image">
                <div class="logo-text">
                    <h1 class="logo">JPA Match</h1>
                    <p class="subtitle">ビリヤードチーム仲間探し掲示板</p>
                </div>
            </div>
            <nav class="nav">
                <a href="./index.html" class="nav-link active">日本語</a>
                <a href="./en.html" class="nav-link">English</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- タブナビゲーション -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="posts">投稿一覧</button>
                <button class="tab-btn" data-tab="create">投稿作成</button>
            </div>

            <!-- 投稿一覧タブ -->
            <div id="postsTab" class="tab-content active">
                <section class="posts-section">
                    <h2>投稿一覧</h2>
                    <div class="posts-filter">
                        <button class="filter-btn active" data-filter="all">すべて</button>
                        <button class="filter-btn" data-filter="team-recruit">チームメイト募集中！</button>
                        <button class="filter-btn" data-filter="player-seeking">チームを探しています</button>
                        <button class="filter-btn" data-filter="division-create">ディビジョンを創りたい！</button>
                    </div>
                    <div id="postsList" class="posts-list">
                        <!-- 投稿がここに動的に表示されます -->
                    </div>
                </section>
            </div>

            <!-- 投稿作成タブ -->
            <div id="createTab" class="tab-content">
                <section class="post-type-section">
                    <h2>投稿タイプを選択</h2>
                    <div class="post-type-buttons">
                        <button class="btn btn-primary post-type-btn active" data-type="team-recruit">
                            🏆 チームメイト募集中！
                        </button>
                        <button class="btn btn-secondary post-type-btn" data-type="player-seeking">
                            👤 チームを探しています
                        </button>
                        <button class="btn btn-tertiary post-type-btn" data-type="division-create">
                            🏢 ディビジョンを創りたい！
                        </button>
                    </div>
                    <p>⚫︎すでにチームが存在し、一緒に参加するメンバーを募集したい場合は「チームメイト募集中！」を、1人または2,3人で参加希望の方は「チームを探しています」を選択ください。
                        <br/>「ディビジョンを創りたい！」は現在JPAを開催していない地域で、参加希望者が5〜10名以上集まっていて新しいディビジョンを創りたい、参加チームを募集したいという方向けの項目です。（JPAは5名×4チームからディビジョンを創設できます）</p>
                </section>

            <!-- チーム募集フォーム -->
            <section id="teamRecruitForm" class="post-form-section team-form">
                <h2>🏆 チームメイト募集中！</h2>
                <p class="form-note">※印は必須項目です</p>
                <form id="teamRecruitFormElement" class="post-form">
                    <div class="form-section">
                        <h3>非公開情報（連絡用）</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="teamCaptainName">お名前 *</label>
                                <input type="text" id="teamCaptainName" name="authorName" required>
                            </div>
                            <div class="form-group">
                                <label for="teamCaptainEmail">メールアドレス *</label>
                                <input type="email" id="teamCaptainEmail" name="authorEmail" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>公開情報</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="teamNickname">チーム名・ニックネーム</label>
                                <input type="text" id="teamNickname" name="teamNickname" placeholder="任意">
                            </div>
                            <div class="form-group">
                                <label for="neededPlayers">チームメイト募集人数 *</label>
                                <select id="neededPlayers" name="neededPlayers" required>
                                    <option value="">選択してください</option>
                                    <option value="1">1人</option>
                                    <option value="2">2人</option>
                                    <option value="3">3人</option>
                                    <option value="other">その他</option>
                                </select>
                            </div>
                        </div>
                        <div id="neededPlayersOther" class="form-group" style="display: none;">
                            <input type="text" id="neededPlayersOtherText" name="neededPlayersOtherText" placeholder="詳細を入力してください">
                        </div>
                        
                        <div class="form-group">
                            <label for="teamLocation">活動地域 *</label>
                            <select id="teamLocation" name="teamLocation" required>
                                <option value="">選択してください</option>
                                <option value="hokkaido">北海道</option>
                                <option value="tohoku">東北</option>
                                <option value="kanto">関東</option>
                                <option value="capital">首都圏</option>
                                <option value="tokai">東海</option>
                                <option value="hokuriku">北陸</option>
                                <option value="kansai">関西</option>
                                <option value="chugoku">中国</option>
                                <option value="shikoku">四国</option>
                                <option value="kyushu">九州</option>
                                <option value="okinawa">沖縄</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="teamLocationDetail">地域詳細</label>
                            <input type="text" id="teamLocationDetail" name="teamLocationDetail" placeholder="例：東京都新宿区、大阪府大阪市など">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="teamJpaHistory">JPA参加歴 *</label>
                                <select id="teamJpaHistory" name="teamJpaHistory" required>
                                    <option value="">選択してください</option>
                                    <option value="participating">参加中</option>
                                    <option value="suspended">参加していたが現在は活動休止中</option>
                                    <option value="planned">これから参加予定</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="teamSkillLevel">募集したいチームメイトのスキルレベル層 *</label>
                                <select id="teamSkillLevel" name="teamSkillLevel" required>
                                    <option value="">選択してください</option>
                                    <option value="1-3">1〜3</option>
                                    <option value="3-4">3〜4</option>
                                    <option value="4-5">4〜5</option>
                                    <option value="5-7">5〜7</option>
                                    <option value="7-9">7〜9</option>
                                    <option value="9">9</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="teamGameType">プレー種目</label>
                                <select id="teamGameType" name="teamGameType">
                                    <option value="">選択してください</option>
                                    <option value="8ball">8ボール</option>
                                    <option value="9ball">9ボール</option>
                                    <option value="both">どちらでも</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="teamFrequency">チームメイトに望む参加頻度</label>
                                <select id="teamFrequency" name="teamFrequency">
                                    <option value="">選択してください</option>
                                    <option value="weekly-plus">週1度以上</option>
                                    <option value="weekly">週1度</option>
                                    <option value="biweekly">2週に1度</option>
                                    <option value="monthly">月に1,2度</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="teamAvailability">活動曜日</label>
                            <select id="teamAvailability" name="teamAvailability">
                                <option value="">選択してください</option>
                                <option value="weekday">平日</option>
                                <option value="weekend">土日祝</option>
                                <option value="anytime">いつでも</option>
                                <option value="other">その他</option>
                            </select>
                            <div id="teamAvailabilityOther" class="form-group" style="display: none;">
                                <input type="text" id="teamAvailabilityOtherText" name="teamAvailabilityOtherText" placeholder="詳細を入力してください">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="teamSelfIntro">自己紹介</label>
                            <textarea id="teamSelfIntro" name="teamSelfIntro" rows="3" maxlength="100" placeholder="100文字以内で自己紹介を入力してください"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="teamContent">投稿内容 *</label>
                            <textarea id="teamContent" name="teamContent" rows="4" required placeholder="チームの詳細や募集内容を記入してください"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="teamPin">削除用PIN（4桁の数字） *</label>
                        <input type="password" id="teamPin" name="teamPin" pattern="[0-9]{4}" maxlength="4" required placeholder="例: 1234">
                        <small class="form-help">投稿削除時に必要になります。忘れずにメモしておいてください。</small>
                    </div>
                    <input type="hidden" name="postType" value="team-recruit">
                    <button type="submit" class="btn btn-primary">投稿する</button>
                </form>
            </section>

            <!-- チーム加入希望フォーム -->
            <section id="playerSeekingForm" class="post-form-section player-form" style="display: none;">
                <h2>👤 チームを探しています</h2>
                <p class="form-note">※印は必須項目です</p>
                <form id="playerSeekingFormElement" class="post-form">
                    <!-- 非公開情報 -->
                    <div class="form-section-header">
                        <h3>非公開情報</h3>
                        <p>こちらは非公開で管理されます</p>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="playerName">お名前（非公開） *</label>
                            <input type="text" id="playerName" name="authorName" required>
                        </div>
                        <div class="form-group">
                            <label for="playerEmail">メールアドレス（非公開） *</label>
                            <input type="email" id="playerEmail" name="authorEmail" required placeholder="連絡があったときに受信するアドレス">
                        </div>
                    </div>

                    <!-- 公開情報 -->
                    <div class="form-section-header">
                        <h3>公開情報</h3>
                        <p>こちらは他のユーザーに公開されます</p>
                    </div>
                    <div class="form-group">
                        <label for="playerNickname">ニックネーム *</label>
                        <input type="text" id="playerNickname" name="playerNickname" required placeholder="例：ビリヤード太郎">
                    </div>
                    <div class="form-group">
                        <label for="playerCount">参加希望人数 *</label>
                        <select id="playerCount" name="playerCount" required>
                            <option value="">選択してください</option>
                            <option value="1">1人</option>
                            <option value="2">2人</option>
                            <option value="3">3人</option>
                            <option value="other">その他（自由記述）</option>
                        </select>
                        <div id="playerCountOther" class="form-group" style="display: none;">
                            <input type="text" id="playerCountOtherText" name="playerCountOtherText" placeholder="詳細を入力してください">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="playerGender">性別（任意）</label>
                            <select id="playerGender" name="playerGender">
                                <option value="">選択してください</option>
                                <option value="male">男</option>
                                <option value="female">女</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="playerAge">年齢（任意）</label>
                            <select id="playerAge" name="playerAge">
                                <option value="">選択してください</option>
                                <option value="10s">10代</option>
                                <option value="20s">20代</option>
                                <option value="30s">30代</option>
                                <option value="40s">40代</option>
                                <option value="50s">50代</option>
                                <option value="60s+">60代以上</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="playerLocation">活動地域 *</label>
                        <select id="playerLocation" name="playerLocation" required>
                            <option value="">選択してください</option>
                            <option value="hokkaido">北海道</option>
                            <option value="tohoku">東北</option>
                            <option value="kanto">関東</option>
                            <option value="capital">首都圏</option>
                            <option value="tokai">東海</option>
                            <option value="hokuriku">北陸</option>
                            <option value="kansai">関西</option>
                            <option value="chugoku">中国</option>
                            <option value="shikoku">四国</option>
                            <option value="kyushu">九州</option>
                            <option value="okinawa">沖縄</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="playerExperience">ビリヤード歴 *</label>
                        <textarea id="playerExperience" name="playerExperience" rows="3" required placeholder="ビリヤードを始めた時期、練習頻度、経験などを書いてください"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="jpaHistory">過去のJPA参加歴 *</label>
                        <select id="jpaHistory" name="jpaHistory" required>
                            <option value="">選択してください</option>
                            <option value="none">なし</option>
                            <option value="yes">あり</option>
                        </select>
                        <div id="jpaHistoryDetail" class="form-group" style="display: none;">
                            <label for="jpaHistoryText">参加期間</label>
                            <textarea id="jpaHistoryText" name="jpaHistoryText" rows="2" placeholder="どれくらいの期間参加していたか詳細を書いてください"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="playerLevel">おおよそのスキルレベル *</label>
                        <select id="playerLevel" name="playerLevel" required>
                            <option value="">選択してください</option>
                            <option value="1">1（女性ビギナー）</option>
                            <option value="2">2（ビギナー）</option>
                            <option value="3">3（Cクラス）</option>
                            <option value="4">4（Cクラス上）</option>
                            <option value="5">5（Bクラス下）</option>
                            <option value="6">6（Bクラス）</option>
                            <option value="7">7（Bクラス上）</option>
                            <option value="8">8（Aクラス）</option>
                            <option value="9">9（Aクラス上）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="playerGameType">プレーしたい種目 *</label>
                        <select id="playerGameType" name="playerGameType" required>
                            <option value="">選択してください</option>
                            <option value="8ball">8ボール</option>
                            <option value="9ball">9ボール</option>
                            <option value="both">どちらでも</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="playerFrequency">おおよその参加可能頻度 *</label>
                        <select id="playerFrequency" name="playerFrequency" required>
                            <option value="">選択してください</option>
                            <option value="2plus-per-week">週2度以上</option>
                            <option value="1-per-week">週1度</option>
                            <option value="biweekly">2週に1度</option>
                            <option value="monthly">月に1,2度</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="playerAvailability">参加可能曜日（任意）</label>
                        <select id="playerAvailability" name="playerAvailability">
                            <option value="">選択してください</option>
                            <option value="weekday">平日</option>
                            <option value="weekend">土日祝</option>
                            <option value="anytime">いつでも</option>
                            <option value="other">その他（自由記述）</option>
                        </select>
                        <div id="playerAvailabilityOther" class="form-group" style="display: none;">
                            <input type="text" id="playerAvailabilityOtherText" name="playerAvailabilityOtherText" placeholder="詳細を入力してください">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="playerSelfIntro">自己紹介</label>
                        <textarea id="playerSelfIntro" name="playerSelfIntro" rows="3" maxlength="100" placeholder="100文字以内で自己紹介を入力してください"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="playerContent">投稿内容 *</label>
                        <textarea id="playerContent" name="playerContent" rows="4" required placeholder="チーム加入希望の詳細を記入してください"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="playerPin">削除用PIN（4桁の数字） *</label>
                        <input type="password" id="playerPin" name="playerPin" pattern="[0-9]{4}" maxlength="4" required placeholder="例: 1234">
                        <small class="form-help">投稿削除時に必要になります。忘れずにメモしておいてください。</small>
                    </div>
                    <input type="hidden" name="postType" value="player-seeking">
                    <button type="submit" class="btn btn-secondary">投稿する</button>
                </form>
            </section>

            <!-- ディビジョン作成フォーム -->
            <section id="divisionCreateForm" class="post-form-section division-form" style="display: none;">
                <h2>🏢 ディビジョンを創りたい！</h2>
                <p class="form-note">※印は必須項目です</p>
                <form id="divisionCreateFormElement" class="post-form">
                    <!-- 非公開情報 -->
                    <div class="form-section-header">
                        <h3>非公開情報</h3>
                        <p>こちらは非公開で管理されます</p>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="divisionName">お名前（非公開） *</label>
                            <input type="text" id="divisionName" name="authorName" required>
                        </div>
                        <div class="form-group">
                            <label for="divisionEmail">メールアドレス（非公開） *</label>
                            <input type="email" id="divisionEmail" name="authorEmail" required placeholder="連絡があったときに受信するアドレス">
                        </div>
                    </div>

                    <!-- 公開情報 -->
                    <div class="form-section-header">
                        <h3>公開情報</h3>
                        <p>こちらは他のユーザーに公開されます</p>
                    </div>
                    <div class="form-group">
                        <label for="divisionLocation">活動地域 *</label>
                        <select id="divisionLocation" name="divisionLocation" required>
                            <option value="">選択してください</option>
                            <option value="hokkaido">北海道</option>
                            <option value="tohoku">東北</option>
                            <option value="kanto">関東</option>
                            <option value="capital">首都圏</option>
                            <option value="tokai">東海</option>
                            <option value="hokuriku">北陸</option>
                            <option value="kansai">関西</option>
                            <option value="chugoku">中国</option>
                            <option value="shikoku">四国</option>
                            <option value="kyushu">九州</option>
                            <option value="okinawa">沖縄</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="divisionShop">主に活動している店舗（任意）</label>
                        <input type="text" id="divisionShop" name="divisionShop" placeholder="例：ビリヤードOops!">
                    </div>
                    <div class="form-group">
                        <label for="divisionTeams">募集チーム数 *</label>
                        <select id="divisionTeams" name="divisionTeams" required>
                            <option value="">選択してください</option>
                            <option value="1">1チーム</option>
                            <option value="2">2チーム</option>
                            <option value="3">3チーム</option>
                            <option value="other">その他（自由記述）</option>
                        </select>
                        <div id="divisionTeamsOther" class="form-group" style="display: none;">
                            <input type="text" id="divisionTeamsOtherText" name="divisionTeamsOtherText" placeholder="詳細を入力してください">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="divisionGameType">プレーしたい種目 *</label>
                        <select id="divisionGameType" name="divisionGameType" required>
                            <option value="">選択してください</option>
                            <option value="8ball">8ボール</option>
                            <option value="9ball">9ボール</option>
                            <option value="both">どちらでも</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="divisionDay">活動曜日（任意）</label>
                        <select id="divisionDay" name="divisionDay">
                            <option value="">選択してください</option>
                            <option value="weekday">平日</option>
                            <option value="weekend">土日祝</option>
                            <option value="decide">これから決める</option>
                            <option value="other">その他（自由記述）</option>
                        </select>
                        <div id="divisionDayOther" class="form-group" style="display: none;">
                            <input type="text" id="divisionDayOtherText" name="divisionDayOtherText" placeholder="詳細を入力してください">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="divisionContent">投稿内容 *</label>
                        <textarea id="divisionContent" name="divisionContent" rows="4" required placeholder="ディビジョン創設の詳細を記入してください"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="divisionPin">削除用PIN（4桁の数字） *</label>
                        <input type="password" id="divisionPin" name="divisionPin" pattern="[0-9]{4}" maxlength="4" required placeholder="例: 1234">
                        <small class="form-help">投稿削除時に必要になります。忘れずにメモしておいてください。</small>
                    </div>
                    <input type="hidden" name="postType" value="division-create">
                    <button type="submit" class="btn btn-tertiary">投稿する</button>
                </form>
            </section>
            </div>
        </div>
    </main>

    <!-- 連絡モーダル -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>投稿者に連絡</h2>
            <form id="contactForm" class="contact-form">
                <input type="hidden" id="postId" name="postId">
                <input type="hidden" id="postTitle" name="postTitle">
                <input type="hidden" id="postType" name="postType">
                <div class="form-group">
                    <label for="senderName">お名前 *</label>
                    <input type="text" id="senderName" name="senderName" required>
                </div>
                <div class="form-group">
                    <label for="senderEmail">メールアドレス *</label>
                    <input type="email" id="senderEmail" name="senderEmail" required>
                </div>
                <div class="form-group">
                    <label for="message">メッセージ *</label>
                    <textarea id="message" name="message" rows="4" required placeholder="投稿者へのメッセージを書いてください..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary">メール送信</button>
            </form>
        </div>
    </div>

    <!-- 投稿詳細モーダル -->
    <div id="postDetailModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="postDetail" class="post-detail">
                <!-- 投稿詳細がここに表示されます -->
            </div>
        </div>
    </div>

    <!-- PIN削除モーダル -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>投稿を削除</h2>
            <p>この投稿を削除するには、投稿時に設定した4桁のPINを入力してください。</p>
            <form id="deleteForm">
                <div class="form-group">
                    <label for="deletePin">削除用PIN（4桁の数字） *</label>
                    <input type="password" id="deletePin" name="deletePin" pattern="[0-9]{4}" maxlength="4" required placeholder="例: 1234">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" id="cancelDelete">キャンセル</button>
                    <button type="submit" class="btn btn-danger">削除する</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 JPAMatch. All rights reserved.</p>
        </div>
    </footer>

    <script src="./script.js"></script>
</body>
</html>
